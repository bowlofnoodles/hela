tasks:
  format: prettier-eslint --write ./{test,src}/**/*.{mjs,js}

  lint: eslint ./{test,src}/**/*.{mjs,js} --format codeframe --fix

  test:
    - rollup -c
    - nyc --reporter=lcov node ./dist/test.js
    - nyc report
    - nyc check-coverage

  style:
    - yarn start format
    - yarn start lint

  precommit:
    - git status --porcelain
    - yarn start test
    - git add --all

  commit:
    - simple-commit-message

  release:
    - semantic-release pre
    - npm publish
    - semantic-release post
